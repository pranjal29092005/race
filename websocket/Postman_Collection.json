{
    "info": {
        "name": "Portfolio WebSocket API",
        "description": "Collection for testing Portfolio Processing WebSocket API",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "1. Start Portfolio Analysis",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"user_id\": \"postman_test_user\",\n    \"portfolio_types\": [\"stocks\", \"bonds\", \"crypto\"],\n    \"calculation_type\": \"full_analysis\"\n}"
                },
                "url": {
                    "raw": "http://localhost:8000/api/portfolio/analyze",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": ["api", "portfolio", "analyze"]
                },
                "description": "Start a new portfolio analysis. Returns a task_id for tracking progress."
            },
            "response": []
        },
        {
            "name": "2. Check Analysis Status",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "http://localhost:8000/api/portfolio/status/{{task_id}}",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": ["api", "portfolio", "status", "{{task_id}}"]
                },
                "description": "Check the current status of a portfolio analysis task. Replace {{task_id}} with actual task ID from step 1."
            },
            "response": []
        },
        {
            "name": "3. Get Final Results",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "http://localhost:8000/api/portfolio/result/{{task_id}}",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": ["api", "portfolio", "result", "{{task_id}}"]
                },
                "description": "Get the final results of a completed portfolio analysis. Only works when status is 'completed'."
            },
            "response": []
        },
        {
            "name": "4. Quick Stock Analysis",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"user_id\": \"quick_test_user\",\n    \"portfolio_types\": [\"stocks\"],\n    \"calculation_type\": \"full_analysis\"\n}"
                },
                "url": {
                    "raw": "http://localhost:8000/api/portfolio/analyze",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": ["api", "portfolio", "analyze"]
                },
                "description": "Quick test with stocks only - faster processing for testing."
            },
            "response": []
        },
        {
            "name": "5. Full Portfolio Analysis",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n    \"user_id\": \"full_test_user\",\n    \"portfolio_types\": [\"stocks\", \"bonds\", \"crypto\", \"real_estate\"],\n    \"calculation_type\": \"full_analysis\"\n}"
                },
                "url": {
                    "raw": "http://localhost:8000/api/portfolio/analyze",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": ["api", "portfolio", "analyze"]
                },
                "description": "Complete portfolio analysis including all asset types - longer processing time."
            },
            "response": []
        },
        {
            "name": "6. Get Demo Page",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "http://localhost:8000/",
                    "protocol": "http",
                    "host": ["localhost"],
                    "port": "8000",
                    "path": [""]
                },
                "description": "Get the demo HTML page to see WebSocket in action in the browser."
            },
            "response": []
        }
    ],
    "variable": [
        {
            "key": "task_id",
            "value": "your-task-id-here",
            "description": "Task ID returned from portfolio analysis start"
        },
        {
            "key": "base_url",
            "value": "http://localhost:8000",
            "description": "Base URL for the API"
        }
    ]
}
